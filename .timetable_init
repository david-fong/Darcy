
# author: David Fong
# used in ./timetable


declare -i course
declare -i section

# get course id tokens through user input:
termassign prompt 'Enter a course ID: ' yellow
promptCourseID() { read -erp "$prompt" dept course section }
promptCourseID

# nag the user if the format of <readline> was unexpected:
while [${#course} -lt 3] || [${#section} -lt 3]
do
   termsection '  course and section must be 3-digit numbers.' red
   promptCourseID
done

# fetch UBC's registration page for this course as html:
url='https://courses.students.ubc.ca/cs/courseschedule'
url+='?pname=subjarea&tname=subj-section'
declare -r query "&dept=$dept""&course=$course&""section=$section"
raw_html=`curl -s "$url""$query"`


